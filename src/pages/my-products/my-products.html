<!--
  Generated template for the MyProductsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>
      My Products
    </ion-title>
  </ion-navbar>
  <div class="userPanel" text-center *ngIf='!userProfile'>
    <img width="80" height="80" src="assets/images/user-photo.png" (click)="login()" />
    <div><button class="button" color="dark" ion-button (click)="login()">Log In</button></div>
  </div>

  <div class="userPanel" text-center *ngIf='userProfile'>
    <img *ngIf='!userProfile.userImage' width="80" height="80" class="user-image" src="assets/images/user-photo.png" (click)="login()" />
    <img *ngIf='userProfile.userImage' width="80" height="80" class="user-image" src="{{userProfile.userImage}}" (click)="login()" />
    <div class="user-name">{{userProfile.user}}</div>
    <div class="products-count"> {{countOfProductsPerUser}} Products </div>
  </div>

</ion-header>

<ion-content padding>

  <ion-list>
    <ion-item *ngFor="let category of categories()" (click)="categoryClick(category)">
      <ion-icon [name]="category.icon" item-start></ion-icon>
      <div>{{category.name}} </div>
      <div *ngIf="category.products.length > 0" item-end>{{category.products.length}}</div>
    </ion-item>
  </ion-list>

  <ion-fab right bottom #fab2>
    <button ion-fab color="secondary" (click)="newWarranty()"><ion-icon name="add"></ion-icon></button>
  </ion-fab>

</ion-content>